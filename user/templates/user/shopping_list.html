{% extends 'base.html' %}
{% load static %}

{% block content %}
    {% comment %} {% if request.user.is_authenticated %}
        <p>Hello {{ request.user }}</p>
        <a href = "{% url 'logout' %}" >Logout </a>
    {% else %}
        <a href = "{% url 'login' %}" >Login</a>
    {% endif %}

    <!--Home page of pantry-->
    <h1>Shopping List</h1>
    {% for ingredient in ingredients %}
        <p>{{ingredient.ingredient.name}}</p>
        <p>quantity {{ingredient.quantity}}</p>
        <td><a href="{% url 'user-pantry-ingredient' ingredient.id %}" >Add to Pantry</a></td>

    <br><br>
    {% endfor %} {% endcomment %}

    <section id="welcomePage" class="containerControl">
        <div class="container " id="screenBg">
            <div class="homepageBody homepageBodyReducePadding text-center">
                <div class="homeText">
                    <img src={% static "images/logoSingle.png" %} alt="logoSingle" class="img-fluid homeLogo">
                    <h3 class="homeBannerTitle text-center pt-4 black">Shopping List</h3>

                    <!-- ------------ Shopping list------------ -->
                    <div class="shopingList px-5">
                        <div class="shopingItems text-left px-4 py-5">
                        {% if recipe_ingredients|length != 0%}
                                {% for recipe in recipe_ingredients %}
                                {% for r in recipe%}
                                <div class="dropdown-divider"></div>
                                <div class="singleRadioItem d-flex justify-content-between align-items-center">
                                    <div class="form-check">
                                        <label class="form-check-label" for="radio1">
                                            {{r.ingredient.name}} : {{r.quantity}} {{r.unit}} {{r.recipe.name}}
                                        </label>
                                    </div>

                                    <div class="actionDot">
                                        <div class="form-inline searchBar pt-4">
                                            <a href="{% url 'user-pantry-shopping-ingredient' r.recipe.id r.ingredient.id r.quantity r.unit %}">
                                                <button type="submit" class="btn">Add</button>
                                            </a>
                                        </div>
                                        <!-- ------------- Dropdown Menu ---------- -->
                                        <div class="dropdown-menu text-center" aria-labelledby="dropdownMenuLink">
                                            <a class="dropdown-item" href="{% url 'user-pantry-ingredient' r.ingredient.id %}">Add</a>
                                        </div>


                                        <!-- ----------- Action Menu Btn---------- -->
                                        {% comment %} <img src={% static "images/threeDot.png" %} alt="threeDot" class="img-fluid dropdown-toggle"
                                            role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true"
                                            aria-expanded="false"> {% endcomment %}
                                    </div>
                                </div>
                                {% endfor %}
                                {% endfor %}
                                <div class="dropdown-divider"></div>
                                {% else %}
                                <h3 class="text-center">Shopping List Empty</h3>
                                {%endif%}
                            
                        </div>
                    </div>

                    <!-- --------------------- Bottom Navigation -------- -->
                    {% include 'bottom_nav.html' %}
                </div>
            </div>
        </div>
    </section>


{% endblock content %}